{% extends "admin/change_form.html" %}

{% block extrahead %}
  {{ block.super }}
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <script>
    $(document).ready(function() {
      $('#id_course').on('change', function() {
        var course_id = $(this).val();
        $.ajax({
          url: '/admin/onlinecourse/question/add/',
          data: {
            'course': course_id
          },
          success: function(data) {
            var options = '<option value="">---------</option>';
            for (var i = 0; i < data.length; i++) {
              options += '<option value="' + data[i].id + '">' + data[i].title + '</option>';
            }
            $('#id_lesson').html(options);
          }
        });
      });
    });
  </script>
{% endblock %}